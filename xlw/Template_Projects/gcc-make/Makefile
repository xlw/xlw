
BUILD=DEBUG
PLATFORM=WIN32

ifeq ($(PLATFORM), x64)
TOOLS_DIR = $(XLW)/xlw/bin64
else
TOOLS_DIR = $(XLW)/xlw/bin
endif

all: autogenerated
	$(MAKE) -f ./XLL.mak BUILD=$(BUILD) PLATFORM=$(PLATFORM)
	
clean:
	$(MAKE) -f ./XLL.mak BUILD=$(BUILD) PLATFORM=$(PLATFORM) clean
	@echo Removing source/xlwWrapper.cpp
	@$(RM) source/xlwWrapper.cpp
	
	
autogenerated : source/cppinterface.h
		"$(subst $(strip \),/,$(TOOLS_DIR))/InterfaceGenerator.exe"  source/cppinterface.h source/xlwWrapper.cpp
	
rebuild: clean all